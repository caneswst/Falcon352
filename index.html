<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>傲翔2025丙組戰術板</title>
    <style>
        body {
            display: flex;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        #pitch-container {
            width: 50%;
            position: relative;
            background: url('https://raw.githubusercontent.com/caneswst/Falcon352/refs/heads/main/football_pitch.jpg') no-repeat center;
            background-size: contain;
            height: 800px;
            border: 2px solid #333;
        }
        .player {
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: #ff4444;
            border-radius: 50%;
            color: white;
            text-align: center;
            line-height: 40px;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s;
        }
        .player:hover {
            transform: scale(1.2);
        }
        #left-panel {
            width: 25%;
            height: 800px;
            padding: 15px;
            background-color: #fff;
            overflow-y: auto;
            border-right: 1px solid #ccc;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        }
        #right-panel {
            width: 25%;
            height: 800px;
            padding: 15px;
            background-color: #fff;
            overflow-y: auto;
            border-left: 1px solid #ccc;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
        }
        select {
            width: 100%;
            padding: 5px;
            margin-bottom: 10px;
            border-radius: 4px;
        }
        h2, h3 {
            color: #333;
        }
        .position-info {
            display: none;
            line-height: 1.6;
        }
        .position-info p {
            margin: 5px 0;
        }
        .position-info strong {
            color: #0066cc;
        }
        #subs-list {
            margin-top: 10px;
        }
        #formation-select {
            width: 100%;
            padding: 8px;
            margin-bottom: 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div id="left-panel">
        <h2>陣容選擇</h2>
        <label>選擇陣型:</label>
        <select id="formation-select">
            <option value="352-offensive">3-5-2 進攻陣</option>
            <option value="352-defensive">3-5-2 防守雙後腰</option>
            <option value="451-defensive">4-5-1 防守陣</option>
        </select>
        <div id="positions-container"></div>
        <h3>後備球員</h3>
        <div id="subs-list"></div>
    </div>

    <div id="pitch-container"></div>

    <div id="right-panel">
        <h2>位置詳情</h2>
        <div id="position-details"></div>
    </div>

    <script>
        const players = ['東', 'Vasco', 'Alex', '光', '禮', '航', '銳', 'Mike', 'Dan', 'Xander', 'Nate', '軍C', '俊', '新', '達', 'Hugo', 'Ivan', '業', '甘', 'Joe', '杰', '銘', '雷公', '鬼佬', 'Ken', '家興'];

        const formations = {
            '352-offensive': {
                positions: ['gk', 'lcb', 'cb', 'rcb', 'lwb', 'lm', 'cam', 'rm', 'rwb', 'lst', 'rst'],
                layout: {
                    'gk': { left: '50%', top: '90%' },
                    'lcb': { left: '30%', top: '70%' },
                    'cb': { left: '50%', top: '70%' },
                    'rcb': { left: '70%', top: '70%' },
                    'lwb': { left: '20%', top: '50%' },
                    'lm': { left: '35%', top: '40%' },
                    'cam': { left: '50%', top: '30%' },
                    'rm': { left: '65%', top: '40%' },
                    'rwb': { left: '80%', top: '50%' },
                    'lst': { left: '40%', top: '15%' },
                    'rst': { left: '60%', top: '15%' }
                },
                details: {
                    'gk': { name: '門將 (GK)', tactics: '守門並快速分球', tech: '撲救 90, 開球 85', off: '支援後衛', def: '守門線', example: 'Manuel Neuer' },
                    'lcb': { name: '左中後衛 (LCB)', tactics: '防守左路並前插', tech: '頭球 85, 傳球 80', off: '參與進攻', def: '盯防右邊鋒', example: 'Giorgio Chiellini' },
                    'cb': { name: '中後衛 (CB)', tactics: '統籌防線', tech: '頭球 90, 搶斷 92', off: '分球', def: '禁區中央', example: 'Virgil van Dijk' },
                    'rcb': { name: '右中後衛 (RCB)', tactics: '防守右路並前插', tech: '頭球 85, 傳球 80', off: '參與進攻', def: '盯防左邊鋒', example: 'Sergio Ramos' },
                    'lwb': { name: '左翼衛 (LWB)', tactics: '邊路進攻', tech: '速度 90, 傳中 85', off: '前插傳中', def: '回防左路', example: 'Marcelo' },
                    'lm': { name: '左中場 (LM)', tactics: '支援邊路進攻', tech: '傳球 85, 盤帶 80', off: '內切或傳中', def: '協助防守', example: 'Bernardo Silva' },
                    'cam': { name: '進攻中場 (CAM)', tactics: '組織進攻', tech: '視野 90, 傳球 88', off: '禁區外圍', def: '壓迫中場', example: 'Kevin De Bruyne' },
                    'rm': { name: '右中場 (RM)', tactics: '支援邊路進攻', tech: '傳球 85, 盤帶 80', off: '內切或傳中', def: '協助防守', example: 'Jadon Sancho' },
                    'rwb': { name: '右翼衛 (RWB)', tactics: '邊路進攻', tech: '速度 90, 傳中 85', off: '前插傳中', def: '回防右路', example: 'Trent Alexander-Arnold' },
                    'lst': { name: '左前鋒 (LST)', tactics: '拉開防線並得分', tech: '射門 88, 速度 90', off: '禁區左側', def: '壓迫後衛', example: 'Neymar' },
                    'rst': { name: '右前鋒 (RST)', tactics: '拉開防線並得分', tech: '射門 88, 速度 90', off: '禁區右側', def: '壓迫後衛', example: 'Lionel Messi' }
                }
            },
            '352-defensive': {
                positions: ['gk', 'lcb', 'cb', 'rcb', 'lwb', 'lcm', 'rcm', 'rwb', 'lst', 'st', 'rst'],
                layout: {
                    'gk': { left: '50%', top: '90%' },
                    'lcb': { left: '30%', top: '70%' },
                    'cb': { left: '50%', top: '70%' },
                    'rcb': { left: '70%', top: '70%' },
                    'lwb': { left: '20%', top: '55%' },
                    'lcm': { left: '40%', top: '50%' },
                    'rcm': { left: '60%', top: '50%' },
                    'rwb': { left: '80%', top: '55%' },
                    'lst': { left: '35%', top: '30%' },
                    'st': { left: '50%', top: '25%' },
                    'rst': { left: '65%', top: '30%' }
                },
                details: {
                    'gk': { name: '門將 (GK)', tactics: '穩固守門並組織防線', tech: '撲救 90, 反應 95, 位置感 88', off: '短傳後衛發動防守反擊', def: '守住球門線並出擊攔截', example: 'Manuel Neuer' },
                    'lcb': { name: '左中後衛 (LCB)', tactics: '防守左路並補位', tech: '頭球 88, 搶斷 90, 傳球 80', off: '穩固後場分球', def: '緊盯右邊鋒並清空禁區', example: 'Giorgio Chiellini' },
                    'cb': { name: '中後衛 (CB)', tactics: '統籌防線並盯防中鋒', tech: '頭球 92, 搶斷 95, 力量 90', off: '分球至中場', def: '坐鎮禁區中央，負責高空防守', example: 'Virgil van Dijk' },
                    'rcb': { name: '右中後衛 (RCB)', tactics: '防守右路並補位', tech: '頭球 88, 搶斷 90, 傳球 80', off: '穩固後場分球', def: '緊盯左邊鋒並清空禁區', example: 'Sergio Ramos' },
                    'lwb': { name: '左翼衛 (LWB)', tactics: '防守左邊路並少量前插', tech: '速度 85, 搶斷 88, 體力 90', off: '支援中場防守', def: '封堵對方右邊鋒並回防', example: 'Marcelo' },
                    'lcm': { name: '左中場 (LCM)', tactics: '防守中場並保護後衛', tech: '傳球 85, 搶斷 90, 視野 88', off: '分球至邊路', def: '壓迫對方中場並補位', example: 'N’Golo Kanté' },
                    'rcm': { name: '右中場 (RCM)', tactics: '防守中場並保護後衛', tech: '傳球 85, 搶斷 90, 視野 88', off: '分球至邊路', def: '壓迫對方中場並補位', example: 'Casemiro' },
                    'rwb': { name: '右翼衛 (RWB)', tactics: '防守右邊路並少量前插', tech: '速度 85, 搶斷 88, 體力 90', off: '支援中場防守', def: '封堵對方左邊鋒並回防', example: 'Kyle Walker' },
                    'lst': { name: '左前鋒 (LST)', tactics: '防守反擊並拉邊', tech: '速度 90, 射門 85, 盤帶 88', off: '拉開防線並尋找空位', def: '壓迫對方右後衛', example: 'Son Heung-min' },
                    'st': { name: '中前鋒 (ST)', tactics: '防守反擊核心', tech: '射門 90, 位置感 92, 力量 88', off: '禁區內搶點', def: '壓迫對方中後衛', example: 'Harry Kane' },
                    'rst': { name: '右前鋒 (RST)', tactics: '防守反擊並拉邊', tech: '速度 90, 射門 85, 盤帶 88', off: '拉開防線並尋找空位', def: '壓迫對方左後衛', example: 'Kylian Mbappé' }
                }
            },
            '451-defensive': {
                positions: ['gk', 'lb', 'lcb', 'rcb', 'rb', 'lm', 'lcm', 'cdm', 'rcm', 'rm', 'st'],
                layout: {
                    'gk': { left: '50%', top: '90%' },
                    'lb': { left: '20%', top: '70%' },
                    'lcb': { left: '40%', top: '70%' },
                    'rcb': { left: '60%', top: '70%' },
                    'rb': { left: '80%', top: '70%' },
                    'lm': { left: '20%', top: '45%' },
                    'lcm': { left: '35%', top: '40%' },
                    'cdm': { left: '50%', top: '45%' },
                    'rcm': { left: '65%', top: '40%' },
                    'rm': { left: '80%', top: '45%' },
                    'st': { left: '50%', top: '20%' }
                },
                details: {
                    'gk': { name: '門將 (GK)', tactics: '穩固守門並快速分球', tech: '撲救 90, 反應 95, 開球 85', off: '短傳發動反擊', def: '守住球門線並出擊', example: 'Manuel Neuer' },
                    'lb': { name: '左後衛 (LB)', tactics: '防守左路並穩固邊線', tech: '搶斷 88, 速度 85, 傳球 80', off: '支援中場', def: '封堵右邊鋒並補位', example: 'Andrew Robertson' },
                    'lcb': { name: '左中後衛 (LCB)', tactics: '防守中路並清空威脅', tech: '頭球 90, 搶斷 92, 力量 88', off: '分球至中場', def: '禁區左側盯防', example: 'Virgil van Dijk' },
                    'rcb': { name: '右中後衛 (RCB)', tactics: '防守中路並清空威脅', tech: '頭球 90, 搶斷 92, 力量 88', off: '分球至中場', def: '禁區右側盯防', example: 'Sergio Ramos' },
                    'rb': { name: '右後衛 (RB)', tactics: '防守右路並穩固邊線', tech: '搶斷 88, 速度 85, 傳球 80', off: '支援中場', def: '封堵左邊鋒並補位', example: 'Kyle Walker' },
                    'lm': { name: '左中場 (LM)', tactics: '防守邊路並反擊支援', tech: '傳中 85, 體力 90, 速度 88', off: '拉邊傳中', def: '回防壓迫左路', example: 'Son Heung-min' },
                    'lcm': { name: '左中場 (LCM)', tactics: '防守中場並銜接', tech: '傳球 88, 搶斷 85, 視野 90', off: '分球至邊路', def: '中場左側壓迫', example: 'Toni Kroos' },
                    'cdm': { name: '防守中場 (CDM)', tactics: '保護後衛並斷球', tech: '搶斷 92, 傳球 85, 體力 90', off: '穩固中場', def: '中場核心防守', example: 'N’Golo Kanté' },
                    'rcm': { name: '右中場 (RCM)', tactics: '防守中場並銜接', tech: '傳球 88, 搶斷 85, 視野 90', off: '分球至邊路', def: '中場右側壓迫', example: 'Luka Modrić' },
                    'rm': { name: '右中場 (RM)', tactics: '防守邊路並反擊支援', tech: '傳中 85, 體力 90, 速度 88', off: '拉邊傳中', def: '回防壓迫右路', example: 'Bukayo Saka' },
                    'st': { name: '中前鋒 (ST)', tactics: '防守反擊終結', tech: '射門 90, 速度 88, 位置感 92', off: '禁區內搶點', def: '壓迫對方後衛', example: 'Harry Kane' }
                }
            }
        };

        let selectedPlayers = {};
        let currentFormation = '352-defensive'; // 默認陣型

        // 初始化陣型選擇
        function initFormationSelect() {
            const formationSelect = document.getElementById('formation-select');
            formationSelect.onchange = () => {
                currentFormation = formationSelect.value;
                updateFormation();
                updatePitchAndSubs();
            };
            updateFormation();
            loadSavedSelections();
        }

        // 更新陣型相關內容
        function updateFormation() {
            const formation = formations[currentFormation];
            const positionsContainer = document.getElementById('positions-container');
            const pitchContainer = document.getElementById('pitch-container');
            const positionDetails = document.getElementById('position-details');

            // 更新左側選單
            positionsContainer.innerHTML = '';
            formation.positions.forEach(pos => {
                positionsContainer.innerHTML += `
                    <label>${formation.details[pos].name}:</label>
                    <select id="${pos}"><option value="">選擇球員</option>${players.map(p => `<option value="${p}">${p}</option>`).join('')}</select>
                `;
            });

            // 更新戰術板
            pitchContainer.innerHTML = '';
            formation.positions.forEach(pos => {
                const playerDiv = document.createElement('div');
                playerDiv.className = 'player';
                playerDiv.id = `${pos}-player`;
                playerDiv.style.left = formation.layout[pos].left;
                playerDiv.style.top = formation.layout[pos].top;
                playerDiv.textContent = pos.toUpperCase();
                playerDiv.onclick = () => showPositionDetails(pos);
                pitchContainer.appendChild(playerDiv);
            });

            // 更新右側詳情
            positionDetails.innerHTML = '';
            formation.positions.forEach(pos => {
                const info = formation.details[pos];
                positionDetails.innerHTML += `
                    <div id="${pos}-info" class="position-info">
                        <h3>${info.name}</h3>
                        <p><strong>戰術要求:</strong> ${info.tactics}</p>
                        <p><strong>技術要求:</strong> ${info.tech}</p>
                        <p><strong>進攻時位置要求:</strong> ${info.off}</p>
                        <p><strong>防守時位置要求:</strong> ${info.def}</p>
                        <p><strong>代表球員:</strong> ${info.example}</p>
                    </div>
                `;
            });

            // 為每個下拉選單添加事件
            formation.positions.forEach(pos => {
                document.getElementById(pos).onchange = updatePitchAndSubs;
            });
        }

        // 更新戰術板和後備名單
        function updatePitchAndSubs() {
            const formation = formations[currentFormation];
            const selected = new Set();
            formation.positions.forEach(pos => {
                const select = document.getElementById(pos);
                const playerDiv = document.getElementById(pos + '-player');
                const selectedPlayer = select.value;
                playerDiv.textContent = selectedPlayer || pos.toUpperCase();
                selectedPlayers[pos] = selectedPlayer;
                if (selectedPlayer) selected.add(selectedPlayer);
            });

            // 更新後備名單
            const subsList = document.getElementById('subs-list');
            const subs = players.filter(p => !selected.has(p));
            subsList.innerHTML = subs.map(p => `<p>${p}</p>`).join('');

            // 保存選擇
            localStorage.setItem('selectedPlayers', JSON.stringify(selectedPlayers));
            localStorage.setItem('currentFormation', currentFormation);
        }

        // 載入上次保存的選擇
        function loadSavedSelections() {
            const savedFormation = localStorage.getItem('currentFormation');
            if (savedFormation) {
                currentFormation = savedFormation;
                document.getElementById('formation-select').value = savedFormation;
                updateFormation();
            }
            const saved = localStorage.getItem('selectedPlayers');
            if (saved) {
                selectedPlayers = JSON.parse(saved);
                formations[currentFormation].positions.forEach(pos => {
                    const select = document.getElementById(pos);
                    if (selectedPlayers[pos]) select.value = selectedPlayers[pos];
                });
            }
            updatePitchAndSubs();
        }

        // 顯示位置詳情
        function showPositionDetails(pos) {
            document.querySelectorAll('.position-info').forEach(info => info.style.display = 'none');
            const infoDiv = document.getElementById(pos + '-info');
            if (infoDiv) infoDiv.style.display = 'block';
        }

        initFormationSelect();
    </script>
</body>
</html>
